/*
 * @title WET-BOEW Progress polyfill
 * @overview The <meter> element displays a gauge. Based on code from https://gist.github.com/667320
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * @author @nschonni
 */
!function(a,b,c){"use strict";var d="meter",e=c.doc,f=function(a){b._timer.remove(d),g(a.target)},g=function(b){var c,d,e=a(b),f=parseFloat(e.attr("min")||0),g=parseFloat(e.attr("max")||1),h=parseFloat(e.attr("high")),i=parseFloat(e.attr("low")),j=(parseFloat(e.attr("optimum")),null!==e.attr("value")?parseFloat(e.attr("value")):b.textContent?b.textContent:b.innerText);b.textContent?b.textContent="":b.innerText&&(b.innerText=""),f>j?j=f:j>g&&(j=g),null!==i&&f>i&&(i=f,e.attr("low",i)),null!==h&&h>g&&(h=g,e.attr("high",h)),d=b.offsetWidth*((j-f)/(g-f)),c=0===b.children.length?document.createElement("div"):b.children[0],c.style.width=Math.ceil(d)+"px",0===b.children.length&&b.appendChild(c),h&&j>=h?e.addClass("meterValueTooHigh"):i&&i>=j?e.addClass("meterValueTooLow"):e.removeClass("meterValueTooHigh meterValueTooLow"),j>=g?e.addClass("meterIsMaxed"):e.removeClass("meterIsMaxed"),e.attr({min:f,max:g,value:j,title:e.attr("title")||j})};e.on("timerpoke.wb",d,f),b._timer.add(d)}(jQuery,window,vapour);